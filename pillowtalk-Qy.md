---
timezone: UTC+8
---

# Qy

**GitHub ID:** pillowtalk-Qy

**Telegram:** @Qy

## Self-introduction

不断汲取新知，让思想丰盈，让灵魂强大。

## Notes
<!-- Content_START -->
# 2025-10-17
<!-- DAILY_CHECKIN_2025-10-17_START -->
1.🧠 对比表

| 模式 | 特征 | 代表协议 | 典型业务 |
| --- | --- | --- | --- |
| 链上 (On-Chain) | 信任、结算、身份 | ERC-8004 Identity/Validation、x402 | 注册、验证、加密支付 |
| 链下 (Off-Chain) | 性能、隐私、逻辑 | A2A、ISEK 本地代理 | 任务执行、协作、声誉计算 |
| 结合 (Hybrid) | 信任 + 效率 | ERC-8004 + A2A + x402 | 智能代理协作、API 收费、AI 服务撮合 |

2.身份注册表维护三个关键映射，以实现高效的代理发现：

-   **AgentID → Agent Details** : 通过唯一标识符直接查找
    
-   **AgentDomain → AgentID**：符合[**RFC 8615 的**](https://www.rfc-editor.org/rfc/rfc8615)域解析
    
-   **AgentAddress → AgentID**：以太坊地址到代理的映射
<!-- DAILY_CHECKIN_2025-10-17_END -->

# 2025-10-16
<!-- DAILY_CHECKIN_2025-10-16_START -->

在 ERC-8004、ISEK、A2A、x402 这些协议的体系中，“链上（on-chain）”和“链下（off-chain）”是核心概念，它们的区别主要体现在**数据的存储位置、信任机制、成本与性能**等方面：

* * *

### 🧩 一、链上（On-Chain）

链上指所有数据与逻辑**直接记录并执行在区块链上**。

**特点：**

-   ✅ **公开透明、可验证**：所有交易、注册、验证都记录在链上，不可篡改。
    
-   🔐 **无需信任第三方**：安全由区块链共识机制保障。
    
-   ⚙️ **成本较高、执行速度慢**：每一次写入都需要消耗 gas。
    
-   📜 **适用于关键的信任与身份数据**。
    

**在 ERC-8004 中的应用：**

-   **Identity Registry（身份注册表）**：记录 AgentID 与地址的映射。
    
-   **Reputation Registry（声誉注册授权）**：链上仅存储授权事件（AuthFeedback），反馈内容在链下。
    
-   **Validation Registry（验证记录）**：链上登记验证请求与响应事件。
    

这些注册表共同构成“信任骨架”，实现**可验证、可追溯的身份与行为记录**。

* * *

### ⚡ 二、链下（Off-Chain）

链下是指数据或计算发生在区块链之外（如服务器、P2P 网络、TEE 环境）。

**特点：**

-   🧠 **高效灵活**：无需每次都写入区块链，降低延迟与成本。
    
-   🧩 **可扩展性强**：适合大规模计算与存储（如模型推理、声誉算法）。
    
-   🔒 **需通过链上凭证或加密证明保障可信性**。
    

**在 ERC-8004 / A2A / ISEK 中的应用：**

-   **Agent Card** 存放在链下（如 `https://agent.example.com/.well-known/agent-card.json`），包含技能、验证 URI 等。
    
-   **声誉与验证结果** 存储或计算在链下，仅通过哈希或授权 ID 在链上引用。
    
-   **ISEK 网络**中的智能体协作、推理、通信等都在链下进行，通过 ERC-8004 提供的链上身份与验证机制来确立信任。
    

* * *

### 🔗 三、结合方式（混合架构）

ERC-8004 采用\*\*“链上最小化 + 链下扩展”\*\*的混合模式：

> “仅将关键信任相关数据上链，一切复杂计算与状态管理留给链下协议处理。”

例如：

-   链上：登记 Agent 身份与验证事件。
    
-   链下：执行 AI 推理、生成结果、计算声誉分。
    
-   最终通过加密哈希或 TEE 证明将链下结果回写链上，确保可验证。
    

总结：

1.完全链上，成本太大了而且速度会变慢

2.完全链下，安全性小

3.所以用混合的方式，很恰当的结合了两种的优点，运用混合架构的方式，最重要的是如何划分，哪些需要安全系数高的给到链上，而计算大的，安全系数较低的，不会很严重改变或威胁到主要的，可以用到链下的方式。
<!-- DAILY_CHECKIN_2025-10-16_END -->

# 2025-10-15
<!-- DAILY_CHECKIN_2025-10-15_START -->




# 2025.10.15
<!-- DAILY_CHECKIN_2025-10-15_START -->
## **抽象的**

该协议提出使用区块链来**发现、选择和与跨组织边界的代理进行交互**，而无需预先存在的信任，从而**实现开放式代理经济**。

信任模型可插拔且分层，其安全性与风险价值成正比，涵盖从订购披萨等低风险任务到医疗诊断等高风险任务。开发者可以从三种信任模型中进行选择：基于客户端反馈的信誉系统、通过权益担保的重新执行进行验证、zkML 证明或 TEE 预言机。

## **动机**

MCP 允许服务器列出并提供其功能（提示、资源、工具和补全），而 A2A 则负责处理代理身份验证、通过 AgentCards 进行技能推广、直接消息传递以及完整的任务生命周期编排。然而，这些代理通信协议本身并不涵盖代理发现和信任。

为了构建一个开放的、跨组织的代理经济，我们需要在不可信环境下发现并信任代理的机制。本 ERC 通过三个轻量级注册中心来满足这一需求，这些注册中心可以作为单例部署在任何 L2 或主网上：

**身份注册表- 基于**[ERC-721](https://eips.ethereum.org/EIPS/eip-721)的最小链上句柄，带有 URIStorage 扩展，可解析为代理的注册文件，为每个代理提供可移植的、抗审查的标识符。

**声誉注册表**\- 用于发布和获取反馈信号的标准接口。评分和聚合既可以在链上进行（以实现可组合性），也可以在链下进行（以实现复杂的算法），从而为代理人评分、审计师网络和保险池打造一个专业化的服务生态系统。

**验证注册表**\- 用于请求和记录独立验证器检查的通用挂钩（例如，重新运行作业的利益相关者、zkML 验证者、TEE 预言机、受信任的法官）。

支付与该协议无关，本文不作介绍。不过，本文提供了一些示例，展示了**x402 支付证明**如何丰富反馈信号。

## **规格**

本文档中的关键词“必须”、“不得”、“要求”、“应该”、“不应”、“应该”、“不应该”、“推荐”、“不推荐”、“可以”和“可选”应按照[RFC 2119](https://www.rfc-editor.org/rfc/rfc2119)和[RFC 8174](https://www.rfc-editor.org/rfc/rfc8174)中的描述进行解释。

### **身份注册**

身份注册中心使用 ERC-721 和 URIStorage 扩展进行代理注册，使**所有代理均可立即通过兼容 NFT 的应用程序进行浏览和转移**。每个代理都通过以下方式进行全局唯一标识：

-   _命名空间：_ `eip155`用于 EVM 链
    
-   _chainId_：区块链网络标识符
    
-   _identityRegistry_：部署 ERC-721 注册合约的地址
    
-   _agentId_：注册表逐步分配的 ERC-721 tokenId
    

在本文档中， ERC-721 中的_tokenId_被称为_agentId_。ERC-721 代币的所有者是代理的所有者，并且可以将所有权转移或委托管理（例如，更新注册文件）给运营商，如 所支持`ERC721URIStorage`。

1.按照个人理解来说就是，数据的中心化，数据不在掌握在某公司手中。当AI需要调用个人数据的时候，不用再向各个公司进行调用，而是直接可以读取个人数据，然后再做出抉择。
<!-- DAILY_CHECKIN_2025-10-15_END -->
<!-- Content_END -->
## **抽象的**

该协议提出使用区块链来**发现、选择和与跨组织边界的代理进行交互**，而无需预先存在的信任，从而**实现开放式代理经济**。

信任模型可插拔且分层，其安全性与风险价值成正比，涵盖从订购披萨等低风险任务到医疗诊断等高风险任务。开发者可以从三种信任模型中进行选择：基于客户端反馈的信誉系统、通过权益担保的重新执行进行验证、zkML 证明或 TEE 预言机。

## **动机**

MCP 允许服务器列出并提供其功能（提示、资源、工具和补全），而 A2A 则负责处理代理身份验证、通过 AgentCards 进行技能推广、直接消息传递以及完整的任务生命周期编排。然而，这些代理通信协议本身并不涵盖代理发现和信任。

为了构建一个开放的、跨组织的代理经济，我们需要在不可信环境下发现并信任代理的机制。本 ERC 通过三个轻量级注册中心来满足这一需求，这些注册中心可以作为单例部署在任何 L2 或主网上：

**身份注册表- 基于**[ERC-721](https://eips.ethereum.org/EIPS/eip-721)的最小链上句柄，带有 URIStorage 扩展，可解析为代理的注册文件，为每个代理提供可移植的、抗审查的标识符。

**声誉注册表**\- 用于发布和获取反馈信号的标准接口。评分和聚合既可以在链上进行（以实现可组合性），也可以在链下进行（以实现复杂的算法），从而为代理人评分、审计师网络和保险池打造一个专业化的服务生态系统。

**验证注册表**\- 用于请求和记录独立验证器检查的通用挂钩（例如，重新运行作业的利益相关者、zkML 验证者、TEE 预言机、受信任的法官）。

支付与该协议无关，本文不作介绍。不过，本文提供了一些示例，展示了**x402 支付证明**如何丰富反馈信号。

## **规格**

本文档中的关键词“必须”、“不得”、“要求”、“应该”、“不应”、“应该”、“不应该”、“推荐”、“不推荐”、“可以”和“可选”应按照[RFC 2119](https://www.rfc-editor.org/rfc/rfc2119)和[RFC 8174](https://www.rfc-editor.org/rfc/rfc8174)中的描述进行解释。

### **身份注册**

身份注册中心使用 ERC-721 和 URIStorage 扩展进行代理注册，使**所有代理均可立即通过兼容 NFT 的应用程序进行浏览和转移**。每个代理都通过以下方式进行全局唯一标识：

-   _命名空间：_ `eip155`用于 EVM 链
    
-   _chainId_：区块链网络标识符
    
-   _identityRegistry_：部署 ERC-721 注册合约的地址
    
-   _agentId_：注册表逐步分配的 ERC-721 tokenId
    

在本文档中， ERC-721 中的_tokenId_被称为_agentId_。ERC-721 代币的所有者是代理的所有者，并且可以将所有权转移或委托管理（例如，更新注册文件）给运营商，如 所支持`ERC721URIStorage`。

1.按照个人理解来说就是，数据的中心化，数据不在掌握在某公司手中。当AI需要调用个人数据的时候，不用再向各个公司进行调用，而是直接可以读取个人数据，然后再做出抉择。
<!-- DAILY_CHECKIN_2025-10-15_END -->



<!-- Content_END -->
